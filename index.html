<!DOCTYPE html>
<html>
<head>
<title>Hacks</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">

<link rel="stylesheet" type="text/css" href="./bootstrap/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="./css/style.css">

<script type="text/javascript" src="./bootstrap/js/bootstrap.js"></script>
<script src="jquery.min.js" type="text/javascript"></script>
<script src="./jQuery-webcam/jquery.webcam.js" type="text/javascript"></script>
</head>

<body>
<div class="navbar">
	<div class="navbar-inner">
		<div class="container">
			<a class="brand" href="#">
				xstream
			</a>

			<ul class="nav pull-right">
				<li class="divider-vertical"></li>
				<li class=""><a data-toggle="modal" href="#SignUp_Modal">Sign Up</a></li>				
			</ul>
		</div>
	</div>
</div>


<!--
<input type="file" accept="image/*;capture=camera">
-->
<div id="camera_panel">
	<div id="camera"></div>


	<div id="controls" class="btn-group">
		<a id="record_btn" class="btn btn-large" href="#">
			<i class="icon-camera"></i>
			&nbsp;Record
		</a>
		<a id="upload_btn" class="btn btn-large disabled" href="#">
			<i class="icon-circle-arrow-up"></i>
			&nbsp;Upload
		</a>
	</div>
</div>


<div class="modal hide" id="SignUp_Modal">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">×</button>
    <h3>Modal header</h3>
  </div>
  <div class="modal-body">
    <p>One fine body…</p>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal">Close</a>
    <a href="#" class="btn btn-primary">Save changes</a>
  </div>
</div>



<script type="text/javascript">
$("#camera").webcam({
	width: 600,
	height: 450,
	mode: "callback",
	swffile: "./jQuery-webcam/jscam_canvas_only.swf",
	onTick: function() {},
	onSave: function(data) {
		var col = data.split(";");
		var img = image;

		for(var i = 0; i < 320; i++) {
			var tmp = parseInt(col[i]);
			img.data[pos + 0] = (tmp >> 16) & 0xff;
			img.data[pos + 1] = (tmp >> 8) & 0xff;
			img.data[pos + 2] = tmp & 0xff;
			img.data[pos + 3] = 0xff;
			pos+= 4;
		}

		if (pos >= 4 * 320 * 240) {
			ctx.putImageData(img, 0, 0);
			pos = 0;
		}
	},
	onCapture: function() {},
	debug: function() {},
	onLoad: function() {}
});
</script>
</body>

</html>


